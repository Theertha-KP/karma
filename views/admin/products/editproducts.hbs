<div class="bg-info-subtle   bg-opacity-10  d-flex justify-content-center ">
  <div style="margin-top: 4%;" class="p-5 bg-light  bg-opacity-50 shadow-sm  col-md-6   ">
    <div>
      <h3 class="h3">Edit product</h3>
    </div>
    <form  onsubmit="return editProduct()" method="post" action="/admin/editproduct/{{product._id}}"  enctype="multipart/form-data">
      <div class="row mb-3">
        <div class="col-sm-10">
          <input type="text"  id="productName" class="form-control shadow-none" name="productname" placeholder="product Name"
            value="{{product.productName}}">
             <p id="alertProductName" class="text-danger "></p>
        </div>
      </div>
      <div class="row mb-3 ">
        <div class="col-sm-3">
          <input type="number" class="form-control shadow-none" name="price" placeholder="price"
            value="{{product.price}}" min="0">
        </div>
        <div class="col-sm-4">
          <input type="text" class="form-control shadow-none" name="cost" placeholder="cost" value="{{product.cost}}">
        </div>
        <div class="col-sm-3 d-flex align-items-center ">
          <label for="" class="pe-3 ">Color</label>
          <input type="color" class="form-control form-control-color border-0 shadow-none " name="color"
            value="{{product.color}}">
        </div>
      </div>
      <div class="row mb-4">
        <div class=" row mb-3 col-sm-10 ms-1  ">
          <textarea class="form-control shadow-none" name="description"  id="about" rows="3" placeholder="product description"
            value="{{product.description}}"></textarea>
             <p id="alertDescription" class="text-danger "></p>
        </div>
        <div class="col-md-4 mb-3 ">
          <select class="form-select shadow-none " aria-label="Default select example"
            value="{{product.isListed}}" name="islisted">
            <option selected>islisted</option>
            <option value="true">true</option>
            <option value="false">false</option>
          </select>
        </div>

        <div class="col-md-3 mb-3 ">
          <input class="form-control shadow-none " name="quantity" placeholder="Quantity" value="{{product.quantity}}">

        </div>
      </div>
      <div class="">
        <div class="row">
         
          <!-- Display previous product images -->
          {{#each product.image }}
           <div class="col-md-6">
          <img src="/multer/products/{{this}}" alt="{{product.name}}" class="img-fluid col-md-6">
          {{#if this}}
          <a class="btn btn-danger  w-30"  href="/admin/deleteImg?filename={{this}}&id={{../product._id}}" onclick="return confirm('Are you sure you want to delete it?')">Delete</a>
          {{/if}}
           </div>
          {{/each}}

         

        </div>
        <!-- Input for updating product images -->
        <label for="newImages">Add New Images:</label>
        <input type="file" id="newImages" name="newImages" multiple>

      </div>

      <button type="submit" class="btn btn-primary">Add product</button>
    </form>
  </div>
</div>


<script>

    
    const alertProductName = document.getElementById("alertProductName");
    const alertDescription = document.getElementById("alertDescription");
    

    function editProduct() {        
        console.log("add product  fucntion")
        const productName= document.getElementById("productName").value;
        const about= document.getElementById("about").value;
              console.log(productName)
        alertProductName.innerText = "";
        alertDescription.innerText = "";

        if(productName.trim()==""){
            console.log("entered empty name")
            alertProductName.innerText = "Product title can't be empty."
            return false
        }
        else if(about.trim()==""){
            alertDescription.innerText = "Product description can't be empty."
            return false
            }

    }

</script>